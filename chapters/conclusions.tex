\chapter{Conclusions}
\label{chp:conclusions}

The aim of this research was to measure multiple peoples heart rate and respiratory rate in real time with FMCW mmWave radar. First, the different existing methods are evaluated. Existing implementations make use of post-processing algorithms to evaluate the data. The existing real-time implementation of this task can only measure one person, because it only makes use of a 1D-FFT. 

The implementation of this thesis is focusing on using the output from the range-azimuth FFT. This output can be further processed to form a 2 dimensional heatmap. Using the data from this heatmap, up to four persons can be detected dynamically. Because all of the complex data stays intact when forming the heatmap, the data needed for the vital signs estimation, the phases of the radar data, can be extracted from the heatmap data for each person detected. For each radar measurements these phases are collected to form a waveform. Two filters can be applied to this waveform, one to extract the heartrate and one to extract the respiration rate. Peak counting is applied to these two waveforms to finally end up with two numbers for each person in the radar frame: a heartrate and a respiration rate.

An important part of this thesis is the validation part. Because a new connection is used to extract the vital signs waveform from the radar data, this method needs to be properly tested. Tests have been done on individual test subjects, but also on two persons at the same time and four persons at the same time. There is also investigated if age, gender or the BMI of a person are connected to the accuracy of the measurement. The accuracy of the heartrate estimation using the sensor compared to the control measurement is around 10\%. The accuracy of the respiratory rate estimation compared to the control measurement is around 8\%. These accuracy's are not as high as we had hoped, but the main focus of this thesis is to show the vital signs of multiple persons can be estimated in real-time using only the embedded hardware. This goal has been reached, all of the calculations mandatory for the vital signs estimation of multiple persons are done on the chip itself. The relation between age, gender or BMI and the accuracy of the sensor cannot be proven using the validation data gathered during this thesis. This could denote that the vital signs estimation using the mmWave method can be used on a broad range of people. 

In Section~\ref{sec:objectives}, the objectives for this project were given in eight points. Almost all of these objectives have been reached, there are only a few which are just partly completed. The chip is able to generate a heatmap from the radar data and detect persons in the heatmap. For these persons, the vital signs are estimated in real-time. The resulting data gets send to the computer, where the data is visualized and saved for later analysis. When doing the validation of this project, the vital sign measurements were compared to medical grade device measurements, to assess the accuracy of the sensor. The tracking of multiple persons is only partly succeeded. When the test subjects are sitting statically, the sensor is able to adjust for small movements. However, if the test subjects are moving a lot, the heatmap becomes so noisy that person tracking is not possible anymore. For the validation part of this project, 16 test subjects have been tested, some even multiple times. This number of subjects gives a good impression of the overall performance of this implementation. One improvement could be the age distribution of the test subjects. No children have been tested for this project, these measurements could have given an interesting view on the performance on smaller chest surfaces.

\section{Future work}
The main improvement on the work done on this thesis are the vital signs estimation algorithms. Because the focus for this project was on the embedded programming and the real-time implementation, the implementation of the vital signs estimation algorithms could not really be improved upon because I lacked the required knowledge. The lower accuracy could be improved by tweaking the parameters of the algorithms, or implementing additional signal processing techniques. 

The code for this project has been written as efficiently as possible. But due to the large code base, and the limited documentation of all the APIs included in the chip, it was very hard to have a grasp on the whole program flow. Developers with more experience on this chip could make the algorithm execution more efficient, by making more use of the specialized hardware in the chip, and the cooperation of the two separate processors. In this project, the DSP is used for all of the calculations, and the ARM processor is used for handling the UART data flow. To make better use of the processing power of the chip, the ARM processor could take over some tasks from the DSP. My estimate is that this could speed up the program by approximately 20\%.

The reach of the sensor could also be improved. For now, the sensor can detect persons up to 2.5 meters away in front of the sensor. To measure for example the heart- and respiration rate of all persons in one room, the range of the sensor must be improved while keeping the accuracy required to estimate the vital signs. This of course also depends on the external requirement that this project is used for.